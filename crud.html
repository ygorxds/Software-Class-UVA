<!DOCTYPE html>
<html lang="pt-BR">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Lojas Brasileiras</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="images/fevicon.png" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <!-- fonts -->
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
      <!-- font awesome -->
      <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <!--  -->
      <!-- owl stylesheets -->
      <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Poppins:400,700&display=swap&subset=latin-ext" rel="stylesheet">
      <link rel="stylesheet" href="css/owl.carousel.min.css">
      <link rel="stylesoeet" href="css/owl.theme.default.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
   </head>
   <body>
      <!-- banner bg main start -->
      <div class="banner_bg_main">
         <!-- header top section start -->
         <div class="container">
            <div class="header_section_top">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="custom_menu">
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- header top section start -->
         <!-- logo section start -->
         <div class="logo_section">
            <div class="container">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="logo"><a href="index.html"><b><h1 style="color: azure;">LOJAS BRASILEIRAS</h1></b></a></div>
                  </div>
               </div>
            </div>
         </div>
         <!-- logo section end -->
         <!-- header section start -->
         <div class="header_section">
            <div class="container">
               <div class="containt_main">
                  <div id="mySidenav" class="sidenav">
                     <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                     <a href="index.html">Inicio</a>
                     <a href="crud.html">Add produtos</a>
                     <a href="listProduct.html">Lista de produtos</a>
                  </div>
                  <span class="toggle_icon" onclick="openNav()"><img src="images/toggle-icon.png"></span>
                  <div class="main">
                     <!-- Another variation with a button -->
                     <div class="input-group">
                        <input type="text" class="form-control" placeholder="Procurar algum produto?">
                        <div class="input-group-append">
                           <button class="btn btn-secondary" type="button" style="background-color: #f26522; border-color:#f26522 ">
                           <i class="fa fa-search"></i>
                           </button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- header section end -->
         <!-- banner section start -->
         <div class="banner_section layout_padding">
            <div class="container">
               <div id="my_slider" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner">
                     <div class="carousel-item active">
                        <div class="row">
                           <div class="col-sm-12">

                           </div>
                        </div>
                     </div>
   
                  </div>
               </div>
            </div>
         </div>
         <!-- banner section end -->
      </div>
      <!-- fashion section start -->
      <div class="fashion_section" style="margin-left: 3rem;">
         <div class="container">
            <h1 class="page_title" style="margin-top: 1rem;">Cadastro de Produto</h1>
            <form id="produtoForm">
               <div class="form-group">
                  <label for="nome">Nome:</label>
                  <input type="text" class="form-control" id="nome" name="nome" required>
               </div>
               <div class="form-group">
                  <label for="descricao">Descrição:</label>
                  <textarea class="form-control" id="descricao" name="descricao" required></textarea>
               </div>
               <div class="form-group">
                  <label for="preco">Preço:</label>
                  <input type="number" class="form-control" id="preco" name="preco" step="0.01" required>
               </div>
               <button type="submit" class="btn btn-outline-dark">Cadastrar</button>
            </form>
         </div>
      </div>
      <!-- fashion section end -->
      <!-- footer section start -->
      <div class="footer_section layout_padding">
         <div class="container">
            <div class="logo"><a href="index.html"><b><h1 style="color: azure;">LOJAS BRASILEIRAS</h1></b></a></div>
            <div class="input_bt">
               <input type="text" class="mail_bt" placeholder="Seu email" name="Seu email">
               <span class="subscribe_bt" id="basic-addon2"><a href="#">Se inscrever</a></span>
            </div>
            <div class="footer_menu">
               <ul>
                  <li><a href="crud.html">Cadastre um produto</a></li>
                  <li><a href="listProduct.html">Ver todos os produtos</a></li>
               </ul>
            </div>
            <div class="social_icon">
               <ul>
                  <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                  <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                  <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                  <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
               </ul>
            </div>
         </div>
      </div>
      <!-- footer section end -->
      <!-- Javascript files-->
      <script src="js/jquery.min.js"></script>
      <script src="js/popper.min.js"></script>
      <script src="js/bootstrap.bundle.min.js"></script>
      <script src="js/jquery-3.0.0.min.js"></script>
      <!-- sidebar -->
      <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="js/custom.js"></script>
      <!-- javascript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script>
         function openNav() {
           document.getElementById("mySidenav").style.width = "250px";
         }
         
         function closeNav() {
           document.getElementById("mySidenav").style.width = "0";
         }

         // Adicionar evento de envio do formulário
         document.getElementById("produtoForm").addEventListener("submit", function(e) {
            e.preventDefault(); // Impede o envio do formulário

            // Obter os dados do formulário
            var nome = document.getElementById("nome").value;
            var descricao = document.getElementById("descricao").value;
            var preco = document.getElementById("preco").value;

            // Criar um objeto com os dados do formulário
            var formData = {
               nome: nome,
               descricao: descricao,
               preco: preco,
            };

            // Enviar os dados para o servidor
            fetch("http://localhost:5000/api/produto/criarProduto", {
               method: "POST",
               body: JSON.stringify(formData),
               headers: {
                  "Content-Type": "application/json"
               }
            })
            .then(function(response) {
               if (response.ok) {
                  // Exibir uma mensagem de sucesso
                  Swal.fire("Sucesso!", "Produto cadastrado com sucesso!", "success");

                  // Limpar o formulário
                  document.getElementById("produtoForm").reset();
               } else {
                  // Exibir uma mensagem de erro
                  Swal.fire("Erro!", "Ocorreu um erro ao cadastrar o produto.", "error");
               }
            })
            .catch(function(error) {
               // Exibir uma mensagem de erro
               Swal.fire("Erro!", "Ocorreu um erro ao cadastrar o produto.", "error");
            });
         });
      </script>
   </body>
</html>
